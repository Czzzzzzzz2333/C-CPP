## 第一章 物联网概述

### 1. 什么是物联网

物联网是一个基于互联网、传统电信网等信息载体，让所有能被独立寻址的普通物理对象实现互联互通的网络。

### 2. 物联网4层模型(核心技术)

#### Ⅰ. 感知识别层(信息生成)

感知识别层位于物联网四层模型的最底端，是所有上层结构的基础。

信息生成方式多样化是物联网的重要特征之一。

+ RFID(Radio Frequency Identification)
  + 基本组成：标签、阅读器、天线
+ 无线传感网(Wireless Sensor Networks, WSN)
+ 定位系统
  + GPS卫星定位
  + 蜂窝基站定位
  + 室内精确定位
+ 智能信息设备
  + 数字标签，实时信息互动
  + 智能电视，具有全功能的互联网，个性化体验
  + 智能手机

#### Ⅱ. 网络构建层(信息传输)

网络构建层在物联网四层模型中连接感知识别层和管理服务层，具有强大的纽带作用，高效、稳定、及时、安全地传输上下层的数据。

网络是物联网最重要的基础设施之一。

+ 互联网(物联网的核心系统)
  + 移动互联网
    + 3G、4G
  +  无线宽带网
    + WIFI([IEEE 802.11](https://baike.baidu.com/item/IEEE 802.11)标准)、WiMAX(全球微波接入互操作性，WiMAX的另一个名字是802.16，[IEEE802.16](https://baike.baidu.com/item/IEEE 802.16)标准)
  + 无线低速网
    + ZigBee(紫蜂，[IEEE 802.15.4](https://baike.baidu.com/item/IEEE 802.15.4))、Bluetooth(蓝牙)
  + 新兴无线接入技术
    + 可见光通信(Visible Light Communication)、NB-IoT(Narrow Band Internet of Things、窄带物联网)

#### Ⅲ. 管理服务层(信息处理)

管理服务层位于感知识别和网络构建之上，综合应用之下，是物联网智慧的源泉。

管理服务层解决数据如何存储、如何检索、如何使用、如何不被滥用问题。

+ 物联网与大数据
  + 网络化存储
    + 直接附加存储(DAS)、网络附加存储(NAS)、存储区域网络(SAN)
+ 信息安全与隐私保护
  + RFID安全
    + 主要安全和隐私隐患：窃听、跟踪、中间人攻击、欺骗/重放/克隆、物理破解、篡改信息、拒绝服务攻击、RFID病毒
  + 位置隐私
+  云计算
  + 基础服务
    + 基础设施即服务(IaaS)、平台即服务(PaaS)、软件即服务(SaaS)

####  Ⅳ. 综合应用层(信息应用)

物联网应用以“物”或者物理世界为中心、涵盖智能交通、智能物流、智能建筑、环境监测等方面。

### 3. 物联网主要特点

+ 联网终端规模化
+ 感知识别普适化
+ 异构设备互联化
+ 管理处理智能化
+ 应用服务链条化

### 4. 物联网发展趋势

+ 更广泛的互联互通
+ 更透彻的感知
+ ‘更深入的智能

### 5. 物联网应用前景

+ 智能物流
+ 智能建筑
+ 环境监测

## 第二章 自动识别技术与RFID

### 1. 自动识别技术

+ 光学字符识别(Optical Character Recognition)
+ 语音识别
+ 生物j计量识别技术
  + 虹膜识别
  + 指纹识别
+ IC(Integrated Circuit Card)卡技术
  + IC卡：由持卡人掌管，记录持卡人特征代码、文件资料的便携式信息载体
  + 接口设备：即IC卡读写器，是卡与PC信息交换的桥梁，常是IC卡的能量来源
  + 计算机 (PC)：系统的核心，完成信息处理、报表生成输出和指令发起、系统监控管理以及卡的发行与挂失、黑名单的建立等
  + 较大系统包括网络和计算机
+ 条形码技术
  + 一维条形码
    + 组成：静区(前)、起始符、数据符、(中间分隔符、主要用于EAN码)、(校验符)、终止符、静区(后)
    + 可直接显示内容为英文、数字、简单符号
    + 贮存数据不多，主要依靠计算机中的关联数据库
    + 保密性能不高
    + 损污后可读性差
  + 二维条形码
    + 可直接显示英文、中文、数字、符号、图形
    + 贮存数据量大，可存放1K字符，可用扫描仪直接读取
    + 内容，无需另接数据库
    + 保密性高（可加密）
    + 安全级别最高时，损污50%仍可读取完整信息

### 2. RFID技术

RFID技术利用射频信号通过空间耦合实现无接触信息传递并通过所传递的信息达到自动识别的目的。

RFID频射识别是一种非接触式的自动识别技术，主要用来为各种物品建立唯一的身份标识，是物联网的重要技术支持。

RFID系统由五个部分组成：

+ 阅读器
  + 传送器
  + 接收器
  + 微处理器
+ 天线
+ 标签

故工业界常将RFID系统分为<font color=red>阅读器、天线和标签</font>三大组件。

#### Ⅰ. 阅读器

阅读器是RFID系统最重要也是最复杂的一个组件。因其工作模式一般是主动向标签询问标识信息，所以有时又称询问器。

#### Ⅱ. 天线

天线同阅读器相连，用于在标签和阅读器之间传递频射信号。阅读器可以连接一个或多个天线。

#### Ⅲ. 标签

标签是由耦合元件、芯片以及微型天线组成，每个标签内部存有唯一的电子编码，附着在物体上，用来标识目标对象。

##### 存储方式

+ 电可擦可编程只读存储器(EEPROM)
  + 写入过程中的功耗很大
+ 铁电随机存取存储器(FRAM)
  + 与EEPROM比，FRAM的写入功耗消耗减小100倍，写入时间甚至缩短1000倍
+ 静态随机存取存储器(SRAM)
  + 能快速写入数据，但SRAM需要辅助电池不间断供电，才能保存数据。

##### 标签分类

+ 被动式标签 (Passive Tag)
  + 因内部没有电源设备又被称为无源标签
  + 被动式标签内部的集成电路通过接收由阅读器发出的电磁波进行驱动，向阅读器发送数据
+ 主动标签(Active Tag)
  + 因标签内部携带电源又被称为有源标签
  + 电源设备和与其相关的电路决定了主动式标签要比被动式标签体积大、价格昂贵
+ 半主动标签(Semi-active Tag)
  + 内部携带电池，能够为标签内部计算提供电源。
  + 这种标签可以携带传感器，可用于检测环境参数。但它们的通信并不需要电池提供能量，而是像被动式标签一样通过阅读器发射的电磁波获取通信能量。

#### Ⅳ. RFID和条形码相比的优点

+ 体积小且形状多样
+ 环境适应性
+ 可重复使用
+ 穿透性强
+ 数据安全

#### Ⅴ. 频率

频率是RFID系统的一个很重要的参数，它决定了系统工作的原理、通信距离、成本、天线形状和应用领域等因素。

RFID典型的工作频率有125KHz、133KHz、13.56MHz、27.12MHz、433MHz、860-960MHz、2.45GHz、5.8GHz

$$KHz(10^3)、MHz(10^6)、GHz(10^9)、THz(10^{12})$$

按照工作频率不同，RFID系统集中在 **低频、高频和超高频** 三个区域。

`低频(125KHz~134.2KHz)、高频(13.56MHz)、超高频(860MHz~960MHz)、微波(2.45GHz)`

#### Ⅵ. RFID与物联网

物联网是通过给所有物品贴上RFID标签，在现有互联网基础之上构建所有参与流通的物品信息网络。

## 第三章 无线传感网

无线传感器网络（Wireless Sensor Networks，WSN）是由大量部署在作用区域内的、具有无线通信与计算能力的微小传感器节点通过自组织方式构成的能根据环境自主完成指定任务的分布式智能化网络系统。

#### Ⅰ. 硬件平台-传感器

+ 定义
  + 我国国家标准(GB7665-2005)对传感器的定义是：“能感受被测量并按照一定的规律转换成可用输出信号的器件或装置”

+ 传感器的基本组成

  + 敏感元件：直接感受被测量的部分
  + 转换元件：将敏感元件的输出转换成电路参量
  + 基本电路：将电路参数转换成电量输入

  ![](https://imgkr.cn-bj.ufileos.com/f651dbd8-d04e-4fc5-a9a4-5bb58baa626d.png)

+ 常见传感器

  + 温度传感器
    + 热敏电阻、半导体温度传感器、温差电偶
  + 压力传感器
  + 湿度传感器
  + 光传感器
  + 霍尔(磁性)传感器
  + 智能传感器

+ 传感器网络

  传感器网络是一种由传感器节点组成的网络，其中每个传感器节点都具有传感器，微处理器，以及通信单元，节点之间通过通信联络组成网络，共同协作来监测各种物理量和事件。

  相比于传统传感器，无线传感节点不仅包括传感器部件，还集成了微型处理器和无线通信芯片等，能够对感知信息进行分析处理和网络传输。

  + 组成

    + 传感器
    + 微处理器
      + 负责计算的核心，目前的微处理器芯片同时也集成了内存、闪存、模数转化器、数字I/O
      + 影响节点工作整体性能的微处理器关键性能：功耗特性、唤醒时间、供电电压、运算速度和内存大小
    + 无线通信芯片
      + 通信芯片的传输距离是选择传感节点的重要指标。发射功率越大，接受灵敏度越高，信号传输距离越远
    + 电池
      + 采用电池供电，使得节点容易部署。但由于电压、环境等变化，电池容量并不能被完全利用

    ![](https://imgkr.cn-bj.ufileos.com/9040674d-618d-4220-88b0-91a6619faed8.png)

#### Ⅱ. 组网技术

+ WSN通信体系结构
  + 物理层、数据链路层、网络层、传输层、应用层
+ 路由协议
  + Flooding(泛洪)协议
    + 节点产生或收到数据包后向所有邻节点广播，直到数据包过期或达到目的地。
    + 该路由不进行维护网络拓扑和相关路由算法，只负责以广播形式转发数据包，因此效率并不高。
  + Gossiping(闲聊)协议
    + 节点将产生或收到的数据随即转发，而不是调用广播。
    + 这种方式避免了以广播形式进行信息传播的能量消耗，节约能量，在一定程度上解决了信息的“内爆”问题，但增加了信息的数据传输平均时延，传输速度变慢，并且无法解决部分交叠现象和盲目利用资源问题。
  + SPIN(sensor protocol for information via negotiation)
    + 路由算法是一种以数据为中心的自适应通信路由协议。
    + 节点仅广播采集数据的属性描述信息（元数据meta-data）而不是数据本身，当有相应的请求时，才有目的地发送数据信息。其目标是通过使用节点间的协商制度和资源自适应机制，解决传统泛洪法存在的不足之处。
    + SPIN协议中使用三种类型的消息：ADV(用于新数据广播)、REQ(用于请求发送数据)、DATA(包含了元数据头，传感器节点采集数据的数据包)。
    + 选路指标(传输成功每个包需要的总传输次数（ETX, Expected Transmission Count))
      + $$Link = throughput \approx 1\ /\ Link\ ETX$$
      + 假设链路有ACKs和重传
        + $$P(TX\ success) = P(Data\ success) \times P(ACK\ success)$$
        + $$Link\ ETX = 1\ /\ P(TX\ success) = 1\ /\ [P(Data success) \times P(ACK success)] $$
      + 扩展到路径的情形
        + $$Route\ ETX = Sum\ of\ link\ ETXs$$
  + 数据收集协议(CTP)
    + 初始化阶段: 网络中每个节点广播自己到汇聚节点的路径的ETX。
    + 每个节点收到广播包之后，依据邻居节点广播的路径ETX，动态选择父节点，使得自己到汇聚节点的路径ETX尽量小。
    + 经过不断更新，网络中的每个节点都能够选择到一条到汇聚节点ETX之和最小的路径。
  + 数据分发协议(Drip)
    + Drip为每一个数据项分配一个版本号，版本号越高的数据为越新的数据。网络中每个节点周期性的广播关于一个数据项的版本信息。
    + 当一个Drip节点发现自己的数据需要更新时，则向邻居节点发送请求包。
    + Drip节点在收到请求包后即广播关于被请求数据项的包。
  + MAC(介质访问控制)协议
    + 典型MAC协议-SMACS/EAR
      + SMACS/EAR(Self-organizing medium access control/Eavesdrop and register，具有监听/注册能的WSN自组织MAC协议)协议是结合TDMA和FDMA的基于固定信道分配的分布式MAC协议。SMACS协议主要用于静止的节点之间连接的建立，而对于静止节点与运动节点之间的通信，则需要通过EAR协议进行管理。其基本思想是，为每一对邻居节点分配一个特有频率进行数据传输，不同节点对间的频率互不干扰，从而避免同时传输的数据之间产生碰撞。
      + SMACS协议假设节点静止，节点在启动时广播一个“邀请”消息，通知附近节点与本节点建立连接，接收到“邀请”消息的邻居节点，与发出“邀请”消息的节点交换信息，在二者之间分配一对时隙，供二者以后通信。
      + EAR协议用于少量运动节点与静止节点之间进行通信，运动节点侦听固定节点发出的“邀请”消息，根据消息的信号强度、节点ID号等信息，决定是否建立连接。如果运动节点认为需要建立连接，则与对方交换信息，分配一对时隙和通信频率。
    + 典型MAC协议-S-MAC
      + S-MAC(Sensor medium access control )协议针对WSN的能量有效性而提出的专用于WSN的节能MAC协议。S-MAC协议设计的主要目标是减少能量消耗，提供良好的可扩展性。它针对WSN消耗能量的主要环节，采用了以下三方面的技术措施来减少能耗：
        + 周期性侦听和休眠。
        + 消息分割和突发传输。
        + 避免接收不必要消息。
    + 典型MAC协议-T-MAC
      + T-MAC（Timeout MAC）协议，实际上是S-MAC协议的一种改进。T-MAC协议在保持周期侦听长度不变的情况下，根据通信流量动态调整节点活动时间，用突发方式发送消息，减少空闲侦听时间。其主要特点是引入了一个TA时隙。

## 总结

我只是个搬运工，只不过搬运也有好处哈哈。