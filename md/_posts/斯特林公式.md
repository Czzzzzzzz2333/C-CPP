---
title: 斯特林公式
categories: 
- Algorithm
tags: 
- 博客
---
斯特林公式是用来估算阶乘的，n越大，结果越准确！
斯特林公式：
<img align="absmiddle" alt="" title="" height="36" width="112" src="https://gss2.bdstatic.com/-fo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D112/sign=4aec460be7cd7b89ed6c3e823d264291/4bed2e738bd4b31c19ead27a86d6277f9f2ff819.jpg">
或更精确的：
<img align="absmiddle" alt="" title="" height="49" width="149" src="https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D149/sign=61f142202e2eb938e86d7ef6ec6385fe/9d82d158ccbf6c81b51c6d29bd3eb13532fa40c3.jpg">
或：
<img align="absmiddle" alt="" title="" height="42" width="136" src="https://gss2.bdstatic.com/-fo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D136/sign=5a5f4811fe1f3a295ec8d1cdaf24bce3/6609c93d70cf3bc749362423df00baa1cc112acf.jpg">
</div>
</section></div>
或：

<div class="para" label-module="para"><section class="formula-container formula-container__inline">
<div class="layoutinline formula" style="width:116px;background-color: rgb(255, 255, 255); cursor: move; text-indent: 28px; white-space: normal; display: inline;">
<img align="absmiddle" alt="" title="" height="49" width="116" src="https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D116/sign=e0492cdb65600c33f479dac92c4d5134/d1a20cf431adcbeffd2391c9a2af2edda2cc9fee.jpg">
 ，
<img align="absmiddle" alt="" title="" height="18" width="69" src="https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D69/sign=28d15fcaebdde711e3d240ffa5ef21e9/34fae6cd7b899e51f200d5db4ca7d933c9950d77.jpg">
</section></div>
或：
<div class="para" label-module="para"><section class="formula-container formula-container__inline">
<div class="layoutinline formula" style="width:97px;background-color: rgb(255, 255, 255); cursor: move; text-indent: 28px; white-space: normal; display: inline;">
<img align="absmiddle" alt="" title="" height="41" width="97" src="https://gss2.bdstatic.com/9fo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D97/sign=dfa39ecb990a304e5622acfdd3c814f3/8718367adab44aed0ccf542bbd1c8701a08bfb78.jpg">
，
<img align="absmiddle" alt="" title="" height="18" width="69" src="https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D69/sign=28d15fcaebdde711e3d240ffa5ef21e9/34fae6cd7b899e51f200d5db4ca7d933c9950d77.jpg">

如果要计算N后得到的数字为几位数，则我们可以知道其位数等于lgN！+1；

<img class="mwe-math-fallback-png-inline tex" style="border: none; vertical-align: middle; display: inline;" src="http://upload.wikimedia.org/math/b/d/e/bde6df6f84382a92e279f5626bed3606.png" alt="\ln(n!) = \ln 1 + \ln 2 + \cdots + \ln n.">



代码如下：

```cpp
#include <stdio.h>
#include <iostream>
#include <math.h>
using namespace std;

int main ()
{
    int w;
    scanf("%d",&w);
    while(w--)
    {
        int z, i;
        double sum = 0;
        scanf("%d",&z);
        for(i = 1; i <= z; i++)
            sum += log10( double(i) );
        printf("%d\n",int(sum) + 1);
    }
    return 0;
}
```